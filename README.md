# Тестовые задания для Центра пространственных исследований
## Задание 1
### Оригинальный текст задания:
> Давай поможем Лакрице выгодно продать валюту. Будем мониторить цену на биткоин на разных биржах:
> https://www.binance.com/ru
> https://coinmarketcap.com/ru/
> https://www.bybit.com/ru-RU/
> https://www.gate.io/ru
> https://www.kucoin.com/ru
> Мы хотим получить лучшее предложение. Для этого нам нужно отслеживать следующие пары валют:
> BTC/USDT
> BTC/ETH
> BTC/XMR
> BTC/SOL
> BTC/RUB
> BTC/DOGE
> При росте курса >= 0.03% мы хотим получать на email письмо, в котором будет стоимость накоплений в валюте и разница.
> Мы хотим каждое повышение цены фиксировать в таблицу csv.
> Header_line=title,price,max price,min price, date ISOformat, difference, total amount.
> Лучшим вариантом будет запись в базу. СУБД Tortoise ORM + PgSql, в крайнем случае sqlite. Лакрица хочет иметь возможность искать, редактировать, удалять записи.
> Так как Лакрица мечтает стать программистом, мы дадим ему данные в формате json:
> key_json={
> “title”:str,
> “kash”:[{
> “price”:decimal,
> “minmax”:[{
> “max price”:decimal,
> ”max price”:decimal}]],
> ”difference”:decimal,
> ”total amount”:decimal,
> “coins”: [
> {“BTC“:“USDT“,............“BTC“:“DOGE“}]
> “date”:str}
> Для этого нелегкого дела нам можно использовать: csv, aiohttp, MailCatcher, Docker, mongodb or pgSQL,schedule, Tortoise ORM.
> Код должен быть залит на гит с описанием, чтобы Лакрица мог легко запустить его. Позже мы поможем Лакрице собрать данные с маркетплейсов и купить наконец желанные копье, дуршлаг, красные носки и леску для спиннинга.
### Описание работы программы
После запуска, программа начнёт раз в минуту запрашивать изменения обменных курсов валют. Для записи оно создаст в папке с программой базу данных `db.sqlite3`, и результаты работы программы записываются в таблицу `course`. Так же, результаты в формате JSON собираются в переменную `key_json` и выводятся в консоль. К сожалению, мне не удалось установить почтовый сервер, поэтому программа не отсылает письма на ящики электронной почты.
### Запуск
Запуск программы производится через консоль, находясь в папке с программой необходимо выполнить следующие команды:

    venv\Scripts\activate
    python task_1.py

## Задание 2
### Оригинальный текст задания:

> Спустя 33 дня, 33 часа и 33 минуты начались скидки на маркетплейсах (далее МП):
> https://www.wildberries.ru/
> https://www.ozon.ru/?__rr=1
> https://market.yandex.ru/
> Лакрица обрел богатый опыт джуна на практике. Об этом свидетельствовало его портфолио на сайте я-кодер.рф.
> Пришло время мониторить цены на желанные товары на вышеуказанных МП. Нам необходимо взять по 1 карточке товара с наименьшей ценой по ключам (копье, дуршлаг, красные носки, леска для спиннинга). Данные из карточек сохранять аналогично первому заданию “Мониторинг битка”.
> Мы можем использовать любую из поддерживаемых библиотек: Playwright, Selenium/GRID, Splash, Scrapy.  
> Дополнительно можно завернуть все в ThreadPool. Но это необязательно.
> Да пребудет с нами здравый смысл и самостоятельная работа!

### Описание работы программы
После запуска, программа начнёт открывать окна Playwright, чтобы собирать из них информацию о товарах (вывод окон оставлен, чтобы магазины не включали защиту от ботов), после чего программа запишет назавния магазинов, ключевые слова поиска, ссылку на товар и его цену в базу данных. Так же, для сверки результатов работы программы с действительностью, для каждого запроса по каждому магазину программа делает скриншот окна Playwright в папке `screenshots`
### Запуск
Запуск программы производится через консоль, находясь в папке с программой необходимо выполнить следующие команды:


    venv\Scripts\activate
    python task_2.py
